!function(e){function t(i){if(o[i])return o[i].exports;var r=o[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=o(/*! ./crop */3),a=i(r);!function(){window.crop=a["default"]}()},/*!**************************************!*\
  !*** ./~/css-loader/lib/css-base.js ***!
  \**************************************/
function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var n=t[r];"number"==typeof n[0]&&i[n[0]]||(o&&!n[2]?n[2]=o:o&&(n[2]="("+n[2]+") and ("+o+")"),e.push(n))}},e}},/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
function(e,t,o){function i(e,t){for(var o=0;o<e.length;o++){var i=e[o],r=u[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(d(i.parts[a],t))}else{for(var n=[],a=0;a<i.parts.length;a++)n.push(d(i.parts[a],t));u[i.id]={id:i.id,refs:1,parts:n}}}}function r(e){for(var t=[],o={},i=0;i<e.length;i++){var r=e[i],a=r[0],n=r[1],s=r[2],c=r[3],d={css:n,media:s,sourceMap:c};o[a]?o[a].parts.push(d):t.push(o[a]={id:a,parts:[d]})}return t}function a(e,t){var o=g(),i=y[y.length-1];if("top"===e.insertAt)i?i.nextSibling?o.insertBefore(t,i.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}}function n(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function d(e,t){var o,i,r;if(t.singleton){var a=b++;o=v||(v=s(t)),i=p.bind(null,o,a,!1),r=p.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=c(t),i=h.bind(null,o),r=function(){n(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(t),i=l.bind(null,o),r=function(){n(o)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function p(e,t,o,i){var r=o?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var a=document.createTextNode(r),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(a,n[t]):e.appendChild(a)}}function l(e,t){var o=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function h(e,t){var o=t.css,i=t.sourceMap;i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var u={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];e.exports=function(e,t){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=r(e);return i(o,t),function(e){for(var a=[],n=0;n<o.length;n++){var s=o[n],c=u[s.id];c.refs--,a.push(c)}if(e){var d=r(e);i(d,t)}for(var n=0;n<a.length;n++){var c=a[n];if(0===c.refs){for(var p=0;p<c.parts.length;p++)c.parts[p]();delete u[c.id]}}}};var w=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}()},/*!*********************!*\
  !*** ./src/crop.js ***!
  \*********************/
function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(/*! cropperjs */5),a=i(r);o(/*! ./less/cropperjs.less */10),o(/*! ./less/cropperjs-custom.less */9),o(/*! ./less/style.less */11);var n=o(/*! client-ajax */4),s=i(n),c=null,d={debug:!1,measure:1},p='\n    <div class="content">\n        <input id="file-input" type="file" accept="image/png,image/jpg"\n               style="display: none">\n        <div class="">\n            <img id="image" />\n        </div>\n        \n    </div>\n    <div class="ctrl-bar" style="margin-top: 10px;">\n            <a href="javascript:;" id="cancel">取消</a>\n            <a href="javascript:;" id="confirm">确定</a>\n    </div>\n',l=function(e){(0,s["default"])({url:d.qiniu_token_url,method:"GET",format:"json"},function(t,o){return t?console.log(t):o&&o.uptoken?(d.debug&&console.info("token:"+o.uptoken),void e(o.uptoken)):console.error("token return format error,please confirm your qiniu_token_url")})},h=function(e,t){var o=new Promise(function(e,t){l(function(t){e(t)})});o.then(function(o){o="xLb9_lREhrKieoYJNSdD4ucFxgYOvLV90l0OTdP6:eeZS71WrpUiJjKa8NJ_cgkFVG0M=:eyJzY29wZSI6ImRhb3FpLWFjdGl2aXR5IiwiZGVhZGxpbmUiOjE0NzIzOTM2OTd9",(0,s["default"])({url:"http://up.qiniu.com/putb64/-1",method:"POST",data:e,headers:{"Content-Type":"application/octet-stream",Authorization:"UpToken "+o}},function(e,o){return e?console.log(e):void t(o.key)})})},u={init:function(e,t){for(var o in e)d[o]=e[o];if(null==c){var i=document.createElement("div");i.className="crop-mask",i.innerHTML=p,document.getElementsByTagName("body")[0].appendChild(i);var r=document.getElementById("image");c=new a["default"](r,{aspectRatio:d.measure,viewMode:0,dragMode:"move",center:!0,crop:function(e){}});var n=document.getElementById("file-input"),s=window.URL||window.webkitURL;n.addEventListener("change",function(){var e=this.files[0];if(!/image\/\w+/.test(e.type))return!1;var t=s.createObjectURL(e);c.reset().replace(t),n.value="",document.getElementsByClassName("crop-mask")[0].style.display="block"},!1),document.getElementById("confirm").onclick=function(){var e=c.getCroppedCanvas().toDataURL("image/jpeg");h(e.split(",")[1],function(e){if(!d.qiniu_res_root)return console.error("qiniu_res_root is null");var o=d.qiniu_res_root+e;t(o),d.debug&&console.info("imageUrl:"+o),document.getElementsByClassName("crop-mask")[0].style.display="none"})},document.getElementById("cancel").onclick=function(){document.getElementsByClassName("crop-mask")[0].style.display="none"}}},start:function(){var e=document.getElementById("file-input");e.click()}};t["default"]=u},/*!********************************!*\
  !*** ./~/client-ajax/index.js ***!
  \********************************/
function(e,t,o){var i,r;!function(){function o(e,t){if(c(t))if(d(e)){if(e.forEach)return e.forEach(t);for(var o=0;o<e.length;++o)t(e[o],o)}else if(s(e))for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}function a(){for(var e={},t=0;t<arguments.length;++t)o(arguments[t],function(t,o){e[o]=t});return e}function n(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"function"==typeof e}function d(e){return Array.isArray?Array.isArray(e):e instanceof Array}function p(e){return n(e)&&/^GET|POST|PUT|HEAD|DELETE|PATCH$/.test(e.toUpperCase())}function l(e){function t(e,r){null===e||void 0===e||c(e)?i.push(encodeURIComponent(r)+"="):s(e)?o(e,function(e,o){t(e,r+"["+o+"]")}):d(e)?o(e,function(e){t(e,r+"[]")}):i.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}var i=[];return o(e,t),i.join("&")}function h(){return"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null}function u(){function e(e,r){C.onreadystatechange=function(){if(4===C.readyState&&!b){y=!0;var a=C.response;C.body=C.response,v.origin&&(a=C),C.status<400&&C.status>=100?(c(v.success)&&v.success(a),c(t)&&t(null,a),c(e)&&e(a)):(i=new Error("Request Error, Response Code: "+C.status),i.code=C.status,C.error=i,o(g,function(e){c(e)&&e(i,C)}),c(v.error)&&v.error(i),c(t)&&t(i,a),c(r)&&r(i)),c(v.complete)&&v.complete(a)}},c(v.before)&&v.before(),v.timeout&&setTimeout(function(){y||(b=!0,i=new Error("Request Timeout, Response Code: 408"),i.code=408,C.error=i,o(g,function(e){c(e)&&e(i,C)}),c(v.error)&&v.error(i),c(t)&&t(i,C),c(r)&&r(i),c(v.complete)&&v.complete(C))},v.timeout),C.send(f)}for(var t,i,r="",d="",u="GET",f=null,v={},b=!1,y=!1,w=0;w<arguments.length;++w){var x=arguments[w];n(x)?r=x:s(x)?v=x:c(x)&&(t=x)}if(v=a(m,v),n(v.url)&&(r=v.url),p(v.method)&&(u=v.method.toUpperCase()),r=r.replace(/:([^\/]+)|\{([^\/]+)\}/g,function(e,t){return v[t]?v[t]:t}),"POST"===u||"PUT"===u||"DELETE"===u)switch(v.format){case"json":v.headers["Content-Type"]="application/json;charset=UTF-8",f=JSON.stringify(v.data);break;case"formdata":if("undefined"!=typeof FormData){v.headers["Content-Type"]="multipart/form-data",v.data instanceof FormData?f=v.data:(f=new FormData,o(v.data,function(e,t){f.append(t,e)}));break}case"form":default:v.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",d=l(v.data),d&&(f=d)}else d=l(v.data),d&&(r+=(r.indexOf("?")>=0?"&":"?")+d);var C=h();return null!==C?(C.open(u,r,v.async),o(v.headers,function(e,t){C.setRequestHeader(t,e)}),v.type&&(C.responseType=v.type),"undefined"!=typeof Promise?new Promise(e):void e()):(i=new Error("Your broswer don't support ajax!"),c(v.error)&&v.error(i),c(t)&&t(i),"undefined"!=typeof Promise?Promise.reject(i):void 0)}function f(){return u.apply(this,arguments)}var m={url:"",method:"GET",async:!0,data:{},origin:!1,type:"json",headers:{}},g=[];f.get=function(e,t,o){return u.call(this,{url:e,method:"GET",data:t},o)},f.post=function(e,t,o){return u.call(this,{url:e,method:"POST",data:t},o)},f.setDefault=function(e){return m=a(m,e),f},f.setErrorInterceptor=function(e){return g.push(e),f},"undefined"!=typeof e&&e.exports?e.exports=f:(i=[],r=function(){return f}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()},/*!*************************************!*\
  !*** ./~/cropperjs/dist/cropper.js ***!
  \*************************************/
function(e,t,o){/*!
	 * Cropper.js v0.8.0
	 * https://github.com/fengyuanchen/cropperjs
	 *
	 * Copyright (c) 2015-2016 Fengyuan Chen
	 * Released under the MIT license
	 *
	 * Date: 2016-08-18T03:01:29.515Z
	 */
!function(t,o){e.exports=o()}(this,function(){return function(e){function t(i){if(o[i])return o[i].exports;var r=o[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),s=o(1),c=r(s),d=o(2),p=r(d),l=o(3),h=r(l),u=o(5),f=r(u),m=o(6),g=r(m),v=o(7),b=r(v),y=o(8),w=r(y),x=o(9),C=r(x),M=o(4),D=i(M),L="cropper",B=L+"-hidden",T="error",k="load",E="ready",A="crop",O=/^data:/,N=/^data:image\/jpeg.*;base64,/,R=void 0,S=function(){function e(t,o){a(this,e);var i=this;i.element=t,i.options=D.extend({},c["default"],D.isPlainObject(o)&&o),i.loaded=!1,i.ready=!1,i.complete=!1,i.rotated=!1,i.cropped=!1,i.disabled=!1,i.replaced=!1,i.limited=!1,i.wheeling=!1,i.isImg=!1,i.originalUrl="",i.canvasData=null,i.cropBoxData=null,i.previews=null,i.init()}return n(e,[{key:"init",value:function(){var e=this,t=e.element,o=t.tagName.toLowerCase(),i=void 0;if(!D.getData(t,L)){if(D.setData(t,L,e),"img"===o){if(e.isImg=!0,e.originalUrl=i=t.getAttribute("src"),!i)return;i=t.src}else"canvas"===o&&window.HTMLCanvasElement&&(i=t.toDataURL());e.load(i)}}},{key:"load",value:function(e){var t=this,o=t.options,i=t.element;if(e){if(t.url=e,t.imageData={},!o.checkOrientation||!window.ArrayBuffer)return void t.clone();if(O.test(e))return void(N?t.read(D.dataURLToArrayBuffer(e)):t.clone());var r=new XMLHttpRequest;r.onerror=r.onabort=function(){t.clone()},r.onload=function(){t.read(r.response)},o.checkCrossOrigin&&D.isCrossOriginURL(e)&&i.crossOrigin&&(e=D.addTimestamp(e)),r.open("get",e),r.responseType="arraybuffer",r.send()}}},{key:"read",value:function(e){var t=this,o=t.options,i=D.getOrientation(e),r=t.imageData,a=0,n=1,s=1;if(i>1)switch(t.url=D.arrayBufferToDataURL(e),i){case 2:n=-1;break;case 3:a=-180;break;case 4:s=-1;break;case 5:a=90,s=-1;break;case 6:a=90;break;case 7:a=90,n=-1;break;case 8:a=-90}o.rotatable&&(r.rotate=a),o.scalable&&(r.scaleX=n,r.scaleY=s),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,o=e.url,i=void 0,r=void 0,a=void 0,n=void 0;e.options.checkCrossOrigin&&D.isCrossOriginURL(o)&&(i=t.crossOrigin,i?r=o:(i="anonymous",r=D.addTimestamp(o))),e.crossOrigin=i,e.crossOriginUrl=r;var s=D.createElement("img");i&&(s.crossOrigin=i),s.src=r||o,e.image=s,e.onStart=a=D.proxy(e.start,e),e.onStop=n=D.proxy(e.stop,e),e.isImg?t.complete?e.start():D.addListener(t,k,a):(D.addListener(s,k,a),D.addListener(s,T,n),D.addClass(s,"cropper-hide"),t.parentNode.insertBefore(s,t.nextSibling))}},{key:"start",value:function(e){var t=this,o=t.isImg?t.element:t.image;e&&(D.removeListener(o,k,t.onStart),D.removeListener(o,T,t.onStop)),D.getImageSize(o,function(e,o){D.extend(t.imageData,{naturalWidth:e,naturalHeight:o,aspectRatio:e/o}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this,t=e.image;D.removeListener(t,k,e.onStart),D.removeListener(t,T,e.onStop),D.removeChild(t),e.image=null}},{key:"build",value:function(){var e=this,t=e.options,o=e.element,i=e.image,r=void 0,a=void 0,n=void 0,s=void 0,c=void 0,d=void 0;if(e.loaded){e.ready&&e.unbuild();var l=D.createElement("div");l.innerHTML=p["default"],e.container=r=o.parentNode,e.cropper=a=D.getByClass(l,"cropper-container")[0],e.canvas=n=D.getByClass(a,"cropper-canvas")[0],e.dragBox=s=D.getByClass(a,"cropper-drag-box")[0],e.cropBox=c=D.getByClass(a,"cropper-crop-box")[0],e.viewBox=D.getByClass(a,"cropper-view-box")[0],e.face=d=D.getByClass(c,"cropper-face")[0],D.appendChild(n,i),D.addClass(o,B),r.insertBefore(a,o.nextSibling),e.isImg||D.removeClass(i,"cropper-hide"),e.initPreview(),e.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,t.autoCrop?(e.cropped=!0,t.modal&&D.addClass(s,"cropper-modal")):D.addClass(c,B),t.guides||D.addClass(D.getByClass(c,"cropper-dashed"),B),t.center||D.addClass(D.getByClass(c,"cropper-center"),B),t.background&&D.addClass(a,"cropper-bg"),t.highlight||D.addClass(d,"cropper-invisible"),t.cropBoxMovable&&(D.addClass(d,"cropper-move"),D.setData(d,"action","all")),t.cropBoxResizable||(D.addClass(D.getByClass(c,"cropper-line"),B),D.addClass(D.getByClass(c,"cropper-point"),B)),e.setDragMode(t.dragMode),e.render(),e.ready=!0,e.setData(t.data),setTimeout(function(){D.isFunction(t.ready)&&D.addListener(o,E,t.ready,!0),D.dispatchEvent(o,E),D.dispatchEvent(o,A,e.getData()),e.complete=!0},0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,D.removeChild(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=R,e}},{key:"setDefaults",value:function(e){D.extend(c["default"],D.isPlainObject(e)&&e)}}]),e}();D.extend(S.prototype,h["default"]),D.extend(S.prototype,f["default"]),D.extend(S.prototype,g["default"]),D.extend(S.prototype,b["default"]),D.extend(S.prototype,w["default"]),D.extend(S.prototype,C["default"]),"undefined"!=typeof window&&(R=window.Cropper,window.Cropper=S),t["default"]=S},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=o(4),a=i(r);t["default"]={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,o=e.element,i=e.container,r=e.cropper,n=void 0;a.addClass(r,"cropper-hidden"),a.removeClass(o,"cropper-hidden"),e.containerData=n={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)},a.setStyle(r,{width:n.width,height:n.height}),a.addClass(o,"cropper-hidden"),a.removeClass(r,"cropper-hidden")},initCanvas:function(){var e=this,t=e.options.viewMode,o=e.containerData,i=e.imageData,r=90===Math.abs(i.rotate),n=r?i.naturalHeight:i.naturalWidth,s=r?i.naturalWidth:i.naturalHeight,c=n/s,d=o.width,p=o.height;o.height*c>o.width?3===t?d=o.height*c:p=o.width/c:3===t?p=o.width/c:d=o.height*c;var l={naturalWidth:n,naturalHeight:s,aspectRatio:c,width:d,height:p};l.oldLeft=l.left=(o.width-d)/2,l.oldTop=l.top=(o.height-p)/2,e.canvasData=l,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=a.extend({},i),e.initialCanvasData=a.extend({},l)},limitCanvas:function(e,t){var o=this,i=o.options,r=i.viewMode,a=o.containerData,n=o.canvasData,s=n.aspectRatio,c=o.cropBoxData,d=o.cropped&&c,p=void 0,l=void 0,h=void 0,u=void 0;e&&(p=Number(i.minCanvasWidth)||0,l=Number(i.minCanvasHeight)||0,r>1?(p=Math.max(p,a.width),l=Math.max(l,a.height),3===r&&(l*s>p?p=l*s:l=p/s)):r>0&&(p?p=Math.max(p,d?c.width:0):l?l=Math.max(l,d?c.height:0):d&&(p=c.width,l=c.height,l*s>p?p=l*s:l=p/s)),p&&l?l*s>p?l=p/s:p=l*s:p?l=p/s:l&&(p=l*s),n.minWidth=p,n.minHeight=l,n.maxWidth=1/0,n.maxHeight=1/0),t&&(r?(h=a.width-n.width,u=a.height-n.height,n.minLeft=Math.min(0,h),n.minTop=Math.min(0,u),n.maxLeft=Math.max(0,h),n.maxTop=Math.max(0,u),d&&o.limited&&(n.minLeft=Math.min(c.left,c.left+(c.width-n.width)),n.minTop=Math.min(c.top,c.top+(c.height-n.height)),n.maxLeft=c.left,n.maxTop=c.top,2===r&&(n.width>=a.width&&(n.minLeft=Math.min(0,h),n.maxLeft=Math.max(0,h)),n.height>=a.height&&(n.minTop=Math.min(0,u),n.maxTop=Math.max(0,u))))):(n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=a.width,n.maxTop=a.height))},renderCanvas:function(e){var t=this,o=t.canvasData,i=t.imageData,r=i.rotate,n=void 0,s=void 0;t.rotated&&(t.rotated=!1,s=a.getRotatedSizes({width:i.width,height:i.height,degree:r}),n=s.width/s.height,n!==o.aspectRatio&&(o.left-=(s.width-o.width)/2,o.top-=(s.height-o.height)/2,o.width=s.width,o.height=s.height,o.aspectRatio=n,o.naturalWidth=i.naturalWidth,o.naturalHeight=i.naturalHeight,r%180&&(s=a.getRotatedSizes({width:i.naturalWidth,height:i.naturalHeight,degree:r}),o.naturalWidth=s.width,o.naturalHeight=s.height),t.limitCanvas(!0,!1))),(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),t.limitCanvas(!1,!0),o.oldLeft=o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),a.setStyle(t.canvas,{width:o.width,height:o.height,left:o.left,top:o.top}),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,o=t.canvasData,i=t.imageData,r=void 0,n=void 0,s=void 0,c=void 0;i.rotate&&(n=a.getRotatedSizes({width:o.width,height:o.height,degree:i.rotate,aspectRatio:i.aspectRatio},!0),s=n.width,c=n.height,r={width:s,height:c,left:(o.width-s)/2,top:(o.height-c)/2}),a.extend(i,r||{width:o.width,height:o.height,left:0,top:0});var d=a.getTransform(i);a.setStyle(t.image,{width:i.width,height:i.height,marginLeft:i.left,marginTop:i.top,WebkitTransform:d,msTransform:d,transform:d}),e&&t.output()},initCropBox:function(){var e=this,t=e.options,o=t.aspectRatio,i=Number(t.autoCropArea)||.8,r=e.canvasData,n={width:r.width,height:r.height};o&&(r.height*o>r.width?n.height=n.width/o:n.width=n.height*o),e.cropBoxData=n,e.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*i),n.height=Math.max(n.minHeight,n.height*i),n.oldLeft=n.left=r.left+(r.width-n.width)/2,n.oldTop=n.top=r.top+(r.height-n.height)/2,e.initialCropBoxData=a.extend({},n)},limitCropBox:function(e,t){var o=this,i=o.options,r=i.aspectRatio,a=o.containerData,n=o.canvasData,s=o.cropBoxData,c=o.limited,d=void 0,p=void 0,l=void 0,h=void 0;e&&(d=Number(i.minCropBoxWidth)||0,p=Number(i.minCropBoxHeight)||0,d=Math.min(d,a.width),p=Math.min(p,a.height),l=Math.min(a.width,c?n.width:a.width),h=Math.min(a.height,c?n.height:a.height),r&&(d&&p?p*r>d?p=d/r:d=p*r:d?p=d/r:p&&(d=p*r),h*r>l?h=l/r:l=h*r),s.minWidth=Math.min(d,l),s.minHeight=Math.min(p,h),s.maxWidth=l,s.maxHeight=h),t&&(c?(s.minLeft=Math.max(0,n.left),s.minTop=Math.max(0,n.top),s.maxLeft=Math.min(a.width,n.left+n.width)-s.width,s.maxTop=Math.min(a.height,n.top+n.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=a.width-s.width,s.maxTop=a.height-s.height))},renderCropBox:function(){var e=this,t=e.options,o=e.containerData,i=e.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),e.limitCropBox(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),t.movable&&t.cropBoxMovable&&a.setData(e.face,"action",i.width===o.width&&i.height===o.height?"move":"all"),a.setStyle(e.cropBox,{width:i.width,height:i.height,left:i.left,top:i.top}),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&a.dispatchEvent(e.element,"crop",e.getData())}}},function(e,t){"use strict";function o(e){return oe.call(e).slice(8,-1).toLowerCase()}function i(e){return"number"==typeof e&&!isNaN(e)}function r(e){return"undefined"==typeof e}function a(e){return"object"===("undefined"==typeof e?"undefined":F(e))&&null!==e}function n(e){if(!a(e))return!1;try{var t=e.constructor,o=t.prototype;return t&&o&&ie.call(o,"isPrototypeOf")}catch(i){return!1}}function s(e){return"function"===o(e)}function c(e){return Array.isArray?Array.isArray(e):"array"===o(e)}function d(e,t){return t=t>=0?t:0,Array.from?Array.from(e).slice(t):re.call(e,t)}function p(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace($,"$1")),e}function l(e,t){if(e&&s(t)){var o=void 0;if(c(e)||i(e.length)){var r=e.length;for(o=0;o<r&&t.call(e,e[o],o,e)!==!1;o++);}else a(e)&&Object.keys(e).forEach(function(o){t.call(e,e[o],o,e)})}return e}function h(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=t[0]===!0,r=i?t[1]:t[0];return t.length>1&&(t.shift(),t.forEach(function(e){a(e)&&Object.keys(e).forEach(function(t){i&&a(r[t])?h(!0,r[t],e[t]):r[t]=e[t]})})),r}function u(e,t){for(var o=arguments.length,i=Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];return function(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return e.apply(t,i.concat(r))}}function f(e,t){var o=e.style;l(t,function(e,t){V.test(t)&&i(e)&&(e+="px"),o[t]=e})}function m(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function g(e,t){if(i(e.length))return void l(e,function(e){g(e,t)});if(e.classList)return void e.classList.add(t);var o=p(e.className);o?o.indexOf(t)<0&&(e.className=o+" "+t):e.className=t}function v(e,t){return i(e.length)?void l(e,function(e){v(e,t)}):e.classList?void e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function b(e,t,o){return i(e.length)?void l(e,function(e){b(e,t,o)}):void(o?g(e,t):v(e,t))}function y(e){return e.replace(G,"$1-$2").toLowerCase()}function w(e,t){return a(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+y(t))}function x(e,t,o){a(o)?e[t]=o:e.dataset?e.dataset[t]=o:e.setAttribute("data-"+y(t),o)}function C(e,t){a(e[t])?delete e[t]:e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+y(t))}function M(e,t,o){var i=p(t).split(J);return i.length>1?void l(i,function(t){M(e,t,o)}):void(e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o))}function D(e,t,o,i){var r=p(t).split(J),a=o;return r.length>1?void l(r,function(t){D(e,t,o)}):(i&&(o=function(){for(var i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];return M(e,t,o),a.apply(e,r)}),void(e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on${type}",o)))}function L(e,t,o){if(e.dispatchEvent){var i=void 0;return s(Event)&&s(CustomEvent)?i=r(o)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0}):r(o)?(i=document.createEvent("Event"),i.initEvent(t,!0,!0)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,o)),e.dispatchEvent(i)}return!e.fireEvent||e.fireEvent("on"+t)}function B(e){var t=e||window.event;if(t.target||(t.target=t.srcElement||document),!i(t.pageX)&&i(t.clientX)){var o=e.target.ownerDocument||document,r=o.documentElement,a=o.body;t.pageX=t.clientX+((r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0)),t.pageY=t.clientY+((r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0))}return t}function T(e){var t=document.documentElement,o=e.getBoundingClientRect();return{left:o.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:o.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function k(e){var t=e.length,o=0,i=0;return t&&(l(e,function(e){o+=e.pageX,i+=e.pageY}),o/=t,i/=t),{pageX:o,pageY:i}}function E(e,t){return e.getElementsByTagName(t)}function A(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function O(e){return document.createElement(e)}function N(e,t){e.appendChild(t)}function R(e){e.parentNode&&e.parentNode.removeChild(e)}function S(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function j(e){var t=e.match(Z);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function U(e){var t="timestamp="+(new Date).getTime();return e+(e.indexOf("?")===-1?"?":"&")+t}function X(e,t){if(e.naturalWidth&&!ee)return void t(e.naturalWidth,e.naturalHeight);var o=O("img");o.onload=function(){t(this.width,this.height)},o.src=e.src}function z(e){var t=[],o=e.rotate,r=e.scaleX,a=e.scaleY;return i(o)&&0!==o&&t.push("rotate("+o+"deg)"),i(r)&&1!==r&&t.push("scaleX("+r+")"),i(a)&&1!==a&&t.push("scaleY("+a+")"),t.length?t.join(" "):"none"}function P(e,t){var o=Math.abs(e.degree)%180,i=(o>90?180-o:o)*Math.PI/180,r=Math.sin(i),a=Math.cos(i),n=e.width,s=e.height,c=e.aspectRatio,d=void 0,p=void 0;return t?(d=n/(a+r/c),p=d/c):(d=n*a+s*r,p=n*r+s*a),{width:d,height:p}}function H(e,t){var o=O("canvas"),r=o.getContext("2d"),a=0,n=0,s=t.naturalWidth,c=t.naturalHeight,d=t.rotate,p=t.scaleX,l=t.scaleY,h=i(p)&&i(l)&&(1!==p||1!==l),u=i(d)&&0!==d,f=u||h,m=s*Math.abs(p),g=c*Math.abs(l),v=void 0,b=void 0,y=void 0;return h&&(v=m/2,b=g/2),u&&(y=P({width:m,height:g,degree:d}),m=y.width,g=y.height,v=m/2,b=g/2),o.width=m,o.height=g,f&&(a=-s/2,n=-c/2,r.save(),r.translate(v,b)),u&&r.rotate(d*Math.PI/180),h&&r.scale(p,l),r.drawImage(e,Math.floor(a),Math.floor(n),Math.floor(s),Math.floor(c)),f&&r.restore(),o}function _(e,t,o){var i="",r=t;for(o+=t;r<o;r++)i+=ae(e.getUint8(r));return i}function W(e){var t=new DataView(e),o=t.byteLength,i=void 0,r=void 0,a=void 0,n=void 0,s=void 0,c=void 0,d=void 0,p=void 0,l=void 0,h=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(l=2;l<o;){if(255===t.getUint8(l)&&225===t.getUint8(l+1)){d=l;break}l++}if(d&&(r=d+4,a=d+10,"Exif"===_(t,r,4)&&(c=t.getUint16(a),s=18761===c,(s||19789===c)&&42===t.getUint16(a+2,s)&&(n=t.getUint32(a+4,s),n>=8&&(p=a+n)))),p)for(o=t.getUint16(p,s),h=0;h<o;h++)if(l=p+12*h+2,274===t.getUint16(l,s)){l+=8,i=t.getUint16(l,s),ee&&t.setUint16(l,1,s);break}return i}function Y(e){var t=e.replace(q,""),o=atob(t),i=o.length,r=new ArrayBuffer(i),a=new Uint8Array(r),n=void 0;for(n=0;n<i;n++)a[n]=o.charCodeAt(n);return r}function I(e){var t=new Uint8Array(e),o=t.length,i="",r=void 0;for(r=0;r<o;r++)i+=ae(t[r]);return"data:image/jpeg;base64,"+btoa(i)}Object.defineProperty(t,"__esModule",{value:!0});var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.typeOf=o,t.isNumber=i,t.isUndefined=r,t.isObject=a,t.isPlainObject=n,t.isFunction=s,t.isArray=c,t.toArray=d,t.trim=p,t.each=l,t.extend=h,t.proxy=u,t.setStyle=f,t.hasClass=m,t.addClass=g,t.removeClass=v,t.toggleClass=b,t.hyphenate=y,t.getData=w,t.setData=x,t.removeData=C,t.removeListener=M,t.dispatchEvent=L,t.getEvent=B,t.getOffset=T,t.getTouchesCenter=k,t.getByTag=E,t.getByClass=A,t.createElement=O,t.appendChild=N,t.removeChild=R,t.empty=S,t.isCrossOriginURL=j,t.addTimestamp=U,t.getImageSize=X,t.getTransform=z,t.getRotatedSizes=P,t.getSourceCanvas=H,t.getStringFromCharCode=_,t.getOrientation=W,t.dataURLToArrayBuffer=Y,t.arrayBufferToDataURL=I;var q=/^data:([^;]+);base64,/,G=/([a-z\d])([A-Z])/g,Z=/^(https?:)\/\/([^:\/\?#]+):?(\d*)/i,J=/\s+/,V=/^(width|height|left|top|marginLeft|marginTop)$/,$=/^\s+(.*)\s+$/,K=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,Q=window.navigator,ee=Q&&K.test(Q.userAgent),te=Object.prototype,oe=te.toString,ie=te.hasOwnProperty,re=Array.prototype.slice,ae=String.fromCharCode;t.addListener=D},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=o(4),a=i(r),n="preview";t["default"]={initPreview:function(){var e=this,t=e.options.preview,o=a.createElement("img"),i=e.crossOrigin,r=i?e.crossOriginUrl:e.url;if(i&&(o.crossOrigin=i),o.src=r,a.appendChild(e.viewBox,o),e.image2=o,t){var s=document.querySelectorAll(t);e.previews=s,a.each(s,function(e){var t=a.createElement("img");a.setData(e,n,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),i&&(t.crossOrigin=i),t.src=r,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',a.empty(e),a.appendChild(e,t)})}},resetPreview:function(){a.each(this.previews,function(e){var t=a.getData(e,n);a.setStyle(e,{width:t.width,height:t.height}),e.innerHTML=t.html,a.removeData(e,n)})},preview:function(){var e=this,t=e.imageData,o=e.canvasData,i=e.cropBoxData,r=i.width,s=i.height,c=t.width,d=t.height,p=i.left-o.left-t.left,l=i.top-o.top-t.top,h=a.getTransform(t),u={WebkitTransform:h,msTransform:h,transform:h};e.cropped&&!e.disabled&&(a.setStyle(e.image2,a.extend({width:c,height:d,marginLeft:-p,marginTop:-l},u)),a.each(e.previews,function(e){var t=a.getData(e,n),o=t.width,i=t.height,h=o,f=i,m=1;r&&(m=o/r,f=s*m),s&&f>i&&(m=i/s,h=r*m,f=i),a.setStyle(e,{width:h,height:f}),a.setStyle(a.getByTag(e,"img")[0],a.extend({width:c*m,height:d*m,marginLeft:-p*m,marginTop:-l*m},u))}))}}},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=o(4),a=i(r),n="mousedown touchstart pointerdown MSPointerDown",s="mousemove touchmove pointermove MSPointerMove",c="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",d="wheel mousewheel DOMMouseScroll",p="dblclick",l="resize",h="cropstart",u="cropmove",f="cropend",m="crop",g="zoom";t["default"]={bind:function(){var e=this,t=e.options,o=e.element,i=e.cropper;a.isFunction(t.cropstart)&&a.addListener(o,h,t.cropstart),a.isFunction(t.cropmove)&&a.addListener(o,u,t.cropmove),a.isFunction(t.cropend)&&a.addListener(o,f,t.cropend),a.isFunction(t.crop)&&a.addListener(o,m,t.crop),a.isFunction(t.zoom)&&a.addListener(o,g,t.zoom),a.addListener(i,n,e.onCropStart=a.proxy(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&a.addListener(i,d,e.onWheel=a.proxy(e.wheel,e)),t.toggleDragModeOnDblclick&&a.addListener(i,p,e.onDblclick=a.proxy(e.dblclick,e)),a.addListener(document,s,e.onCropMove=a.proxy(e.cropMove,e)),a.addListener(document,c,e.onCropEnd=a.proxy(e.cropEnd,e)),t.responsive&&a.addListener(window,l,e.onResize=a.proxy(e.resize,e))},unbind:function(){var e=this,t=e.options,o=e.element,i=e.cropper;a.isFunction(t.cropstart)&&a.removeListener(o,h,t.cropstart),a.isFunction(t.cropmove)&&a.removeListener(o,u,t.cropmove),a.isFunction(t.cropend)&&a.removeListener(o,f,t.cropend),a.isFunction(t.crop)&&a.removeListener(o,m,t.crop),a.isFunction(t.zoom)&&a.removeListener(o,g,t.zoom),a.removeListener(i,n,e.onCropStart),t.zoomable&&t.zoomOnWheel&&a.removeListener(i,d,e.onWheel),t.toggleDragModeOnDblclick&&a.removeListener(i,p,e.onDblclick),a.removeListener(document,s,e.onCropMove),a.removeListener(document,c,e.onCropEnd),t.responsive&&a.removeListener(window,l,e.onResize)}}},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.REGEXP_ACTIONS=void 0;var r=o(4),a=i(r),n=t.REGEXP_ACTIONS=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;t["default"]={resize:function(){var e=this,t=e.options.restore,o=e.container,i=e.containerData;if(!e.disabled&&i){var r=o.offsetWidth/i.width,n=void 0,s=void 0;1===r&&o.offsetHeight===i.height||(t&&(n=e.getCanvasData(),s=e.getCropBoxData()),e.render(),t&&(e.setCanvasData(a.each(n,function(e,t){n[t]=e*r})),e.setCropBoxData(a.each(s,function(e,t){s[t]=e*r}))))}},dblclick:function(){var e=this;e.disabled||e.setDragMode(a.hasClass(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,o=a.getEvent(e),i=Number(t.options.wheelZoomRatio)||.1,r=1;t.disabled||(o.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),o.deltaY?r=o.deltaY>0?1:-1:o.wheelDelta?r=-o.wheelDelta/120:o.detail&&(r=o.detail>0?1:-1),t.zoom(-r*i,o)))},cropStart:function(e){var t=this,o=t.options,i=a.getEvent(e),r=i.touches,s=void 0,c=void 0,d=void 0;if(!t.disabled){if(r){if(s=r.length,s>1){if(!o.zoomable||!o.zoomOnTouch||2!==s)return;c=r[1],t.startX2=c.pageX,t.startY2=c.pageY,d="zoom"}c=r[0]}if(d=d||a.getData(i.target,"action"),n.test(d)){if(a.dispatchEvent(t.element,"cropstart",{originalEvent:i,action:d})===!1)return;i.preventDefault(),t.action=d,t.cropping=!1,t.startX=c?c.pageX:i.pageX,t.startY=c?c.pageY:i.pageY,"crop"===d&&(t.cropping=!0,a.addClass(t.dragBox,"cropper-modal"))}}},cropMove:function(e){var t=this,o=t.options,i=a.getEvent(e),r=i.touches,n=t.action,s=void 0,c=void 0;if(!t.disabled){if(r){if(s=r.length,s>1){if(!o.zoomable||!o.zoomOnTouch||2!==s)return;c=r[1],t.endX2=c.pageX,t.endY2=c.pageY}c=r[0]}if(n){if(a.dispatchEvent(t.element,"cropmove",{originalEvent:i,action:n})===!1)return;i.preventDefault(),t.endX=c?c.pageX:i.pageX,t.endY=c?c.pageY:i.pageY,t.change(i.shiftKey,"zoom"===n?i:null)}}},cropEnd:function(e){var t=this,o=t.options,i=a.getEvent(e),r=t.action;t.disabled||r&&(i.preventDefault(),t.cropping&&(t.cropping=!1,a.toggleClass(t.dragBox,"cropper-modal",t.cropped&&o.modal)),t.action="",a.dispatchEvent(t.element,"cropend",{originalEvent:i,action:r}))}}},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=o(4),a=i(r),n="e",s="w",c="s",d="n",p="se",l="sw",h="ne",u="nw";t["default"]={change:function(e,t){var o=this,i=o.options,r=o.containerData,f=o.canvasData,m=o.cropBoxData,g=i.aspectRatio,v=o.action,b=m.width,y=m.height,w=m.left,x=m.top,C=w+b,M=x+y,D=0,L=0,B=r.width,T=r.height,k=!0,E=void 0;!g&&e&&(g=b&&y?b/y:1),o.limited&&(D=m.minLeft,L=m.minTop,B=D+Math.min(r.width,f.left+f.width),T=L+Math.min(r.height,f.top+f.height));var A={x:o.endX-o.startX,y:o.endY-o.startY};switch(g&&(A.X=A.y*g,A.Y=A.x/g),v){case"all":w+=A.x,x+=A.y;break;case n:if(A.x>=0&&(C>=B||g&&(x<=L||M>=T))){k=!1;break}b+=A.x,g&&(y=b/g,x-=A.Y/2),b<0&&(v=s,b=0);break;case d:if(A.y<=0&&(x<=L||g&&(w<=D||C>=B))){k=!1;break}y-=A.y,x+=A.y,g&&(b=y*g,w+=A.X/2),y<0&&(v=c,y=0);break;case s:if(A.x<=0&&(w<=D||g&&(x<=L||M>=T))){k=!1;break}b-=A.x,w+=A.x,g&&(y=b/g,x+=A.Y/2),b<0&&(v=n,b=0);break;case c:if(A.y>=0&&(M>=T||g&&(w<=D||C>=B))){k=!1;break}y+=A.y,g&&(b=y*g,w-=A.X/2),y<0&&(v=d,y=0);break;case h:if(g){if(A.y<=0&&(x<=L||C>=B)){k=!1;break}y-=A.y,x+=A.y,b=y*g}else A.x>=0?C<B?b+=A.x:A.y<=0&&x<=L&&(k=!1):b+=A.x,A.y<=0?x>L&&(y-=A.y,x+=A.y):(y-=A.y,x+=A.y);b<0&&y<0?(v=l,y=0,b=0):b<0?(v=u,b=0):y<0&&(v=p,y=0);break;case u:if(g){if(A.y<=0&&(x<=L||w<=D)){k=!1;break}y-=A.y,x+=A.y,b=y*g,w+=A.X}else A.x<=0?w>D?(b-=A.x,w+=A.x):A.y<=0&&x<=L&&(k=!1):(b-=A.x,w+=A.x),A.y<=0?x>L&&(y-=A.y,x+=A.y):(y-=A.y,x+=A.y);b<0&&y<0?(v=p,y=0,b=0):b<0?(v=h,b=0):y<0&&(v=l,y=0);break;case l:if(g){if(A.x<=0&&(w<=D||M>=T)){k=!1;break}b-=A.x,w+=A.x,y=b/g}else A.x<=0?w>D?(b-=A.x,w+=A.x):A.y>=0&&M>=T&&(k=!1):(b-=A.x,w+=A.x),A.y>=0?M<T&&(y+=A.y):y+=A.y;b<0&&y<0?(v=h,y=0,b=0):b<0?(v=p,b=0):y<0&&(v=u,y=0);break;case p:if(g){if(A.x>=0&&(C>=B||M>=T)){k=!1;break}b+=A.x,y=b/g}else A.x>=0?C<B?b+=A.x:A.y>=0&&M>=T&&(k=!1):b+=A.x,A.y>=0?M<T&&(y+=A.y):y+=A.y;b<0&&y<0?(v=u,y=0,b=0):b<0?(v=l,b=0):y<0&&(v=h,y=0);break;case"move":o.move(A.x,A.y),k=!1;break;case"zoom":o.zoom(function(e,t,o,i){var r=Math.sqrt(e*e+t*t),a=Math.sqrt(o*o+i*i);return(a-r)/r}(Math.abs(o.startX-o.startX2),Math.abs(o.startY-o.startY2),Math.abs(o.endX-o.endX2),Math.abs(o.endY-o.endY2)),t),o.startX2=o.endX2,o.startY2=o.endY2,k=!1;break;case"crop":if(!A.x||!A.y){k=!1;break}E=a.getOffset(o.cropper),w=o.startX-E.left,x=o.startY-E.top,b=m.minWidth,y=m.minHeight,A.x>0?v=A.y>0?p:h:A.x<0&&(w-=b,v=A.y>0?l:u),A.y<0&&(x-=y),o.cropped||(a.removeClass(o.cropBox,"cropper-hidden"),o.cropped=!0,o.limited&&o.limitCropBox(!0,!0))}k&&(m.width=b,m.height=y,m.left=w,m.top=x,o.action=v,o.renderCropBox()),o.startX=o.endX,o.startY=o.endY}}},function(e,t,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(4),n=i(a);t["default"]={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&n.addClass(e.dragBox,"cropper-modal"),n.removeClass(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=n.extend({},e.initialImageData),e.canvasData=n.extend({},e.initialCanvasData),e.cropBoxData=n.extend({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(n.extend(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),n.removeClass(e.dragBox,"cropper-modal"),n.addClass(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var o=this;return!o.disabled&&e&&(o.isImg&&(o.element.src=e),t?(o.url=e,o.image.src=e,o.ready&&(o.image2.src=e,n.each(o.previews,function(t){n.getByTag(t,"img")[0].src=e}))):(o.isImg&&(o.replaced=!0),o.options.data=null,o.load(e))),o},enable:function(){var e=this;return e.ready&&(e.disabled=!1,n.removeClass(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,n.addClass(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,o=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),n.removeClass(t,"cropper-hidden")):e.isImg?n.removeListener(t,"load",e.start):o&&n.removeChild(o),
n.removeData(t,"cropper"),e},move:function(e,t){var o=this,i=o.canvasData;return o.moveTo(n.isUndefined(e)?e:i.left+Number(e),n.isUndefined(t)?t:i.top+Number(t))},moveTo:function(e,t){var o=this,i=o.canvasData,r=!1;return n.isUndefined(t)&&(t=e),e=Number(e),t=Number(t),o.ready&&!o.disabled&&o.options.movable&&(n.isNumber(e)&&(i.left=e,r=!0),n.isNumber(t)&&(i.top=t,r=!0),r&&o.renderCanvas(!0)),o},zoom:function(e,t){var o=this,i=o.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,o.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var o=this,i=o.options,r=o.canvasData,a=r.width,s=r.height,c=r.naturalWidth,d=r.naturalHeight,p=void 0,l=void 0,h=void 0,u=void 0;if(e=Number(e),e>=0&&o.ready&&!o.disabled&&i.zoomable){if(p=c*e,l=d*e,n.dispatchEvent(o.element,"zoom",{originalEvent:t,oldRatio:a/c,ratio:p/c})===!1)return o;t?(h=n.getOffset(o.cropper),u=t.touches?n.getTouchesCenter(t.touches):{pageX:t.pageX,pageY:t.pageY},r.left-=(p-a)*((u.pageX-h.left-r.left)/a),r.top-=(l-s)*((u.pageY-h.top-r.top)/s)):(r.left-=(p-a)/2,r.top-=(l-s)/2),r.width=p,r.height=l,o.renderCanvas(!0)}return o},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var t=this;return e=Number(e),n.isNumber(e)&&t.ready&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var o=this,i=o.imageData,r=!1;return n.isUndefined(t)&&(t=e),e=Number(e),t=Number(t),o.ready&&!o.disabled&&o.options.scalable&&(n.isNumber(e)&&(i.scaleX=e,r=!0),n.isNumber(t)&&(i.scaleY=t,r=!0),r&&o.renderImage(!0)),o},scaleX:function(e){var t=this,o=t.imageData.scaleY;return t.scale(e,n.isNumber(o)?o:1)},scaleY:function(e){var t=this,o=t.imageData.scaleX;return t.scale(n.isNumber(o)?o:1,e)},getData:function(e){var t=this,o=t.options,i=t.imageData,r=t.canvasData,a=t.cropBoxData,s=void 0,c=void 0;return t.ready&&t.cropped?(c={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},s=i.width/i.naturalWidth,n.each(c,function(t,o){t/=s,c[o]=e?Math.round(t):t})):c={x:0,y:0,width:0,height:0},o.rotatable&&(c.rotate=i.rotate||0),o.scalable&&(c.scaleX=i.scaleX||1,c.scaleY=i.scaleY||1),c},setData:function(e){var t=this,o=t.options,i=t.imageData,r=t.canvasData,a={},s=void 0,c=void 0,d=void 0;return n.isFunction(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&n.isPlainObject(e)&&(o.rotatable&&n.isNumber(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,t.rotated=s=!0),o.scalable&&(n.isNumber(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,c=!0),n.isNumber(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,c=!0)),s?t.renderCanvas():c&&t.renderImage(),d=i.width/i.naturalWidth,n.isNumber(e.x)&&(a.left=e.x*d+r.left),n.isNumber(e.y)&&(a.top=e.y*d+r.top),n.isNumber(e.width)&&(a.width=e.width*d),n.isNumber(e.height)&&(a.height=e.height*d),t.setCropBoxData(a)),t},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,o={};return e.ready&&n.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e){o[e]=t[e]}),o},setCanvasData:function(e){var t=this,o=t.canvasData,i=o.aspectRatio;return n.isFunction(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&n.isPlainObject(e)&&(n.isNumber(e.left)&&(o.left=e.left),n.isNumber(e.top)&&(o.top=e.top),n.isNumber(e.width)?(o.width=e.width,o.height=e.width/i):n.isNumber(e.height)&&(o.height=e.height,o.width=e.height*i),t.renderCanvas(!0)),t},getCropBoxData:function(){var e=this,t=e.cropBoxData,o=void 0;return e.ready&&e.cropped&&(o={left:t.left,top:t.top,width:t.width,height:t.height}),o||{}},setCropBoxData:function(e){var t=this,o=t.cropBoxData,i=t.options.aspectRatio,r=void 0,a=void 0;return n.isFunction(e)&&(e=e.call(t.element)),t.ready&&t.cropped&&!t.disabled&&n.isPlainObject(e)&&(n.isNumber(e.left)&&(o.left=e.left),n.isNumber(e.top)&&(o.top=e.top),n.isNumber(e.width)&&(r=!0,o.width=e.width),n.isNumber(e.height)&&(a=!0,o.height=e.height),i&&(r?o.height=o.width/i:a&&(o.width=o.height*i)),t.renderCropBox()),t},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(!t.cropped)return n.getSourceCanvas(t.image,t.imageData);n.isPlainObject(e)||(e={});var o=t.getData(),i=o.width,a=o.height,s=i/a,c=void 0,d=void 0,p=void 0;n.isPlainObject(e)&&(c=e.width,d=e.height,c?(d=c/s,p=c/i):d&&(c=d*s,p=d/a));var l=Math.floor(c||i),h=Math.floor(d||a),u=n.createElement("canvas"),f=u.getContext("2d");u.width=l,u.height=h,e.fillColor&&(f.fillStyle=e.fillColor,f.fillRect(0,0,l,h));var m=function(){var e=n.getSourceCanvas(t.image,t.imageData),r=e.width,s=e.height,c=t.canvasData,d=[e],l=o.x+c.naturalWidth*(Math.abs(o.scaleX||1)-1)/2,h=o.y+c.naturalHeight*(Math.abs(o.scaleY||1)-1)/2,u=void 0,f=void 0,m=void 0,g=void 0,v=void 0,b=void 0;return l<=-i||l>r?l=u=m=v=0:l<=0?(m=-l,l=0,u=v=Math.min(r,i+l)):l<=r&&(m=0,u=v=Math.min(i,r-l)),u<=0||h<=-a||h>s?h=f=g=b=0:h<=0?(g=-h,h=0,f=b=Math.min(s,a+h)):h<=s&&(g=0,f=b=Math.min(a,s-h)),d.push(Math.floor(l),Math.floor(h),Math.floor(u),Math.floor(f)),p&&(m*=p,g*=p,v*=p,b*=p),v>0&&b>0&&d.push(Math.floor(m),Math.floor(g),Math.floor(v),Math.floor(b)),d}();return f.drawImage.apply(f,r(m)),u},setAspectRatio:function(e){var t=this,o=t.options;return t.disabled||n.isUndefined(e)||(o.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,o=t.options,i=t.dragBox,r=t.face,a=void 0,s=void 0;return t.loaded&&!t.disabled&&(a="crop"===e,s=o.movable&&"move"===e,e=a||s?e:"none",n.setData(i,"action",e),n.toggleClass(i,"cropper-crop",a),n.toggleClass(i,"cropper-move",s),o.cropBoxMovable||(n.setData(r,"action",e),n.toggleClass(r,"cropper-crop",a),n.toggleClass(r,"cropper-move",s))),t}}}])})},/*!***********************************************************************!*\
  !*** ./~/css-loader!./~/less-loader!./src/less/cropperjs-custom.less ***!
  \***********************************************************************/
function(e,t,o){t=e.exports=o(/*! ./../../~/css-loader/lib/css-base.js */1)(),t.push([e.id,"img{max-width:100%}.hide{display:none}",""])},/*!****************************************************************!*\
  !*** ./~/css-loader!./~/less-loader!./src/less/cropperjs.less ***!
  \****************************************************************/
function(e,t,o){t=e.exports=o(/*! ./../../~/css-loader/lib/css-base.js */1)(),t.push([e.id,".cropper-container{font-size:0;line-height:0;position:relative;-ms-user-select:none;user-select:none;direction:ltr!important;-ms-touch-action:none;touch-action:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;width:100%;overflow:hidden}.cropper-container img{display:block;width:100%;min-width:0!important;max-width:none!important;height:100%;min-height:0!important;max-height:none!important;image-orientation:0deg!important}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{position:absolute;top:0;right:0;bottom:0;left:0}.cropper-wrap-box{overflow:hidden}.cropper-drag-box{opacity:0;background-color:#fff}.cropper-modal{opacity:.5;background-color:#000}.cropper-view-box{display:block;overflow:hidden;width:100%;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75)}.cropper-dashed{position:absolute;display:block;opacity:.5;border:0 dashed #eee}.cropper-dashed.dashed-h{top:33.33333%;left:0;width:100%;height:33.33333%;border-top-width:1px;border-bottom-width:1px}.cropper-dashed.dashed-v{top:0;left:33.33333%;width:33.33333%;height:100%;border-right-width:1px;border-left-width:1px}.cropper-center{position:absolute;top:50%;left:50%;display:block;width:0;height:0;opacity:.75}.cropper-center:after,.cropper-center:before{position:absolute;display:block;content:' ';background-color:#eee}.cropper-center:before{top:0;left:-3px;width:7px;height:1px}.cropper-center:after{top:-3px;left:0;width:1px;height:7px}.cropper-face,.cropper-line,.cropper-point{position:absolute;display:block;width:100%;height:100%;opacity:.1}.cropper-face{top:0;left:0;background-color:#fff}.cropper-line,.cropper-point{background-color:#39f}.cropper-line.line-e{top:0;right:-3px;width:5px;cursor:e-resize}.cropper-line.line-n{top:-3px;left:0;height:5px;cursor:n-resize}.cropper-line.line-w{top:0;left:-3px;width:5px;cursor:w-resize}.cropper-line.line-s{bottom:-3px;left:0;height:5px;cursor:s-resize}.cropper-point{width:5px;height:5px;opacity:.75}.cropper-point.point-e{top:50%;right:-3px;margin-top:-3px;cursor:e-resize}.cropper-point.point-n{top:-3px;left:50%;margin-left:-3px;cursor:n-resize}.cropper-point.point-w{top:50%;left:-3px;margin-top:-3px;cursor:w-resize}.cropper-point.point-s{bottom:-3px;left:50%;margin-left:-3px;cursor:s-resize}.cropper-point.point-ne{top:-3px;right:-3px;cursor:ne-resize}.cropper-point.point-nw{top:-3px;left:-3px;cursor:nw-resize}.cropper-point.point-sw{bottom:-3px;left:-3px;cursor:sw-resize}.cropper-point.point-se{right:-3px;bottom:-3px;width:20px;height:20px;cursor:se-resize;opacity:1}.cropper-point.point-se:before{position:absolute;right:-50%;bottom:-50%;display:block;width:200%;height:200%;content:' ';opacity:0;background-color:#39f}@media (min-width:768px){.cropper-point.point-se{width:15px;height:15px}}@media (min-width:992px){.cropper-point.point-se{width:10px;height:10px}}@media (min-width:1200px){.cropper-point.point-se{width:5px;height:5px;opacity:.75}}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{position:absolute;display:block;width:0;height:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}",""])},/*!************************************************************!*\
  !*** ./~/css-loader!./~/less-loader!./src/less/style.less ***!
  \************************************************************/
function(e,t,o){t=e.exports=o(/*! ./../../~/css-loader/lib/css-base.js */1)(),t.push([e.id,"body,html{margin:0;padding:0}.crop-mask,body,html{width:100%;height:100%}.crop-mask{background-color:hsla(0,0%,50%,.69);position:fixed;left:0;top:0;display:none;z-index:100;text-align:center}.crop-mask .content{display:inline-block;margin-top:10%;width:50%;max-width:300px;max-height:300px;overflow:hidden}.crop-mask .content .ctrl-bar{margin-top:10px;text-align:center}.crop-mask .content .ctrl-bar a{text-decoration:none;display:inline-block;padding:2px 8px;border-radius:3px;border:1px solid #fff;color:#fff}",""])},/*!****************************************!*\
  !*** ./src/less/cropperjs-custom.less ***!
  \****************************************/
function(e,t,o){var i=o(/*! !./../../~/css-loader!./../../~/less-loader!./cropperjs-custom.less */6);"string"==typeof i&&(i=[[e.id,i,""]]);o(/*! ./../../~/style-loader/addStyles.js */2)(i,{});i.locals&&(e.exports=i.locals)},/*!*********************************!*\
  !*** ./src/less/cropperjs.less ***!
  \*********************************/
function(e,t,o){var i=o(/*! !./../../~/css-loader!./../../~/less-loader!./cropperjs.less */7);"string"==typeof i&&(i=[[e.id,i,""]]);o(/*! ./../../~/style-loader/addStyles.js */2)(i,{});i.locals&&(e.exports=i.locals)},/*!*****************************!*\
  !*** ./src/less/style.less ***!
  \*****************************/
function(e,t,o){var i=o(/*! !./../../~/css-loader!./../../~/less-loader!./style.less */8);"string"==typeof i&&(i=[[e.id,i,""]]);o(/*! ./../../~/style-loader/addStyles.js */2)(i,{});i.locals&&(e.exports=i.locals)}]);
//# sourceMappingURL=bundle.js.map